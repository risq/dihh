var Api=function(){function e(){$.ajaxSetup({cache:!1})}function n(e,n,i){NProgress.start(),$.getJSON("/digs").done(function(e){n(t(e))}).fail(i).always(function(){NProgress.done()})}function t(e){return $.map(e,function(e){return{title:e.title,artist:e.artists.join(", "),year:e.year,cover:e.cover.indexOf("http://")>-1?e.cover:"/uploads/"+e.cover,hasSleeve:!1}})}return{init:e,getDigs:n}}(),App=function(){function e(){n(),Ui.init(),Api.getDigs({},function(e){cratedigger.loadRecords(e,!1)},function(e){console.log("fail",e)})}function n(){cratedigger.init({elements:{rootContainerId:"cratedigger",canvasContainerId:"cratedigger-canvas",loadingContainerId:"cratedigger-loading",infoContainerId:"cratedigger-info",titleContainerId:"cratedigger-record-title",artistContainerId:"cratedigger-record-artist",coverContainerId:"cratedigger-record-cover"},infoPanelOpened:Ui.onInfoPanelOpened,infoPanelClosed:Ui.onInfoPanelClosed})}return{init:e}}(),Ui=function(){function e(){i=$("#bottom-bar"),o=i.find(".bottom-bar-prev-button"),r=i.find(".bottom-bar-mid-button"),c=i.find(".bottom-bar-next-button"),o.on("click",cratedigger.selectPrevRecord),r.on("click",cratedigger.flipSelectedRecord),c.on("click",cratedigger.selectNextRecord)}function n(){i.addClass("closed")}function t(){i.removeClass("closed")}var i,o,r,c;return{init:e,onInfoPanelOpened:n,onInfoPanelClosed:t}}();
//# sourceMappingURL=app.min.js.map